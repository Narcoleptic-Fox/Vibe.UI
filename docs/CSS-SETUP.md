# Vibe.UI CSS Setup Guide

This guide explains how to include and configure Vibe.UI CSS in your Blazor application.

## Overview

Vibe.UI uses a multi-layered CSS architecture:

1. **Base Styles** (`vibe-base.css`) - Required foundation styles
2. **Component Scoped Styles** (`Vibe.UI.styles.css`) - Automatically bundled component styles
3. **Utility Classes** (`vibe-utilities.css`) - Optional helper classes

## Quick Start

### Option 1: Minimal Setup (Recommended)

Include only the essential CSS files in your app's `_Host.cshtml`, `_Layout.cshtml`, or `index.html`:

```html
<head>
    <!-- Vibe.UI Base Styles (REQUIRED) -->
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />

    <!-- Vibe.UI Component Styles (REQUIRED) -->
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
```

### Option 2: Full Setup with Utilities

If you want to use utility classes for quick styling:

```html
<head>
    <!-- Vibe.UI Complete Bundle -->
    <link href="_content/Vibe.UI/css/vibe-all.css" rel="stylesheet" />

    <!-- Vibe.UI Component Styles (REQUIRED) -->
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
```

Note: `vibe-all.css` imports both `vibe-base.css` and `vibe-utilities.css`.

### Option 3: Granular Control

For maximum control over what CSS is loaded:

```html
<head>
    <!-- Base Styles (Required) -->
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />

    <!-- Utility Classes (Optional) -->
    <link href="_content/Vibe.UI/css/vibe-utilities.css" rel="stylesheet" />

    <!-- Component Styles (Required) -->
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
```

## CSS Architecture Explained

### 1. Base Styles (`vibe-base.css`)

**Status:** REQUIRED

**Contains:**
- CSS Variables (Design tokens)
- Light and dark theme definitions
- CSS reset
- Animation keyframes
- Core theme system

**Purpose:** Provides the foundation for all Vibe.UI components. Without this file, components will not render correctly.

**Size:** ~10KB

### 2. Component Scoped Styles (`Vibe.UI.styles.css`)

**Status:** REQUIRED

**Contains:**
- Automatically generated scoped CSS for all components
- Compiled from all `*.razor.css` files
- Styles are scoped with unique identifiers to prevent conflicts

**How it works:**
Blazor automatically bundles all component-specific CSS files at build time. Each component's styles are scoped using attribute selectors (e.g., `[b-a1b2c3d4]`), ensuring styles only apply to their intended components.

**Important:** This bundle is generated by the Blazor build system and must be referenced separately from other CSS files.

**Size:** ~25-30KB (varies based on components used)

### 3. Utility Classes (`vibe-utilities.css`)

**Status:** OPTIONAL

**Contains:**
- Layout utilities (flexbox, grid, spacing)
- Typography utilities (font sizes, weights, alignment)
- Color utilities (text, background colors)
- Border utilities (radius, borders)
- Animation utilities
- Display utilities

**Purpose:** Provides Tailwind-like utility classes for rapid prototyping and quick styling without writing custom CSS.

**When to use:**
- Rapid prototyping
- Small applications
- Quick styling needs

**When to skip:**
- Production apps with custom CSS
- When minimizing bundle size is critical
- When you don't need utility classes

**Size:** ~15KB

### 4. Combined Bundle (`vibe-all.css`)

**Status:** CONVENIENCE FILE

**Contains:**
- Imports `vibe-base.css`
- Imports `vibe-utilities.css`
- Documentation about scoped styles

**Purpose:** Single import for base + utilities. Still requires separate import of `Vibe.UI.styles.css`.

**Note:** This does NOT include component scoped styles. You must still reference `Vibe.UI.styles.css`.

## Blazor Server vs Blazor WebAssembly

The CSS setup is identical for both hosting models:

### Blazor Server

Add CSS links to `_Host.cshtml` or `_Layout.cshtml`:

```html
<!DOCTYPE html>
<html>
<head>
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
<body>
    @RenderBody()
</body>
</html>
```

### Blazor WebAssembly

Add CSS links to `wwwroot/index.html`:

```html
<!DOCTYPE html>
<html>
<head>
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
<body>
    <div id="app"></div>
</body>
</html>
```

### .NET 8+ Blazor Web App (Auto/InteractiveServer/InteractiveWebAssembly)

Add CSS links to `Components/App.razor`:

```razor
<!DOCTYPE html>
<html>
<head>
    <HeadOutlet />
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
<body>
    <Routes />
</body>
</html>
```

## Theme Customization

Vibe.UI uses CSS variables for theming, making customization straightforward.

### Customizing Colors

Override CSS variables in your own CSS file (loaded after Vibe.UI styles):

```css
/* custom-theme.css */
:root {
    /* Override primary color */
    --vibe-primary: hsl(210 100% 50%);
    --vibe-primary-foreground: hsl(0 0% 100%);

    /* Override success color */
    --vibe-success: hsl(120 75% 40%);
    --vibe-success-foreground: hsl(0 0% 100%);

    /* Override border radius */
    --vibe-radius: 0.25rem; /* Smaller corners */
}

/* Dark mode overrides */
.dark {
    --vibe-primary: hsl(210 100% 60%);
}
```

### Complete Theme Variables

Available CSS variables for customization:

```css
:root {
    /* Core Colors */
    --vibe-background: hsl(0 0% 100%);
    --vibe-foreground: hsl(240 10% 3.9%);
    --vibe-card: hsl(0 0% 100%);
    --vibe-card-foreground: hsl(240 10% 3.9%);
    --vibe-popover: hsl(0 0% 100%);
    --vibe-popover-foreground: hsl(240 10% 3.9%);

    /* Semantic Colors */
    --vibe-primary: hsl(240 5.9% 10%);
    --vibe-primary-foreground: hsl(0 0% 98%);
    --vibe-secondary: hsl(240 4.8% 95.9%);
    --vibe-secondary-foreground: hsl(240 5.9% 10%);
    --vibe-muted: hsl(240 4.8% 95.9%);
    --vibe-muted-foreground: hsl(240 3.8% 46.1%);
    --vibe-accent: hsl(240 4.8% 95.9%);
    --vibe-accent-foreground: hsl(240 5.9% 10%);
    --vibe-destructive: hsl(0 84.2% 60.2%);
    --vibe-destructive-foreground: hsl(0 0% 98%);

    /* Status Colors */
    --vibe-success: hsl(142 76% 36%);
    --vibe-success-foreground: hsl(0 0% 100%);
    --vibe-warning: hsl(38 92% 50%);
    --vibe-warning-foreground: hsl(0 0% 100%);
    --vibe-info: hsl(217 91% 60%);
    --vibe-info-foreground: hsl(0 0% 100%);

    /* UI Elements */
    --vibe-border: hsl(240 5.9% 90%);
    --vibe-input: hsl(240 5.9% 90%);
    --vibe-ring: hsl(240 10% 3.9%);

    /* Border Radius */
    --vibe-radius: 0.5rem;
    --vibe-radius-sm: 0.3rem;
    --vibe-radius-md: 0.5rem;
    --vibe-radius-lg: 0.75rem;
    --vibe-radius-xl: 1rem;

    /* Spacing */
    --vibe-spacing-1: 0.25rem;  /* 4px */
    --vibe-spacing-2: 0.5rem;   /* 8px */
    --vibe-spacing-3: 0.75rem;  /* 12px */
    --vibe-spacing-4: 1rem;     /* 16px */
    /* ... up to spacing-12 */

    /* Shadows */
    --vibe-shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --vibe-shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
    --vibe-shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

    /* Transitions */
    --vibe-transition: all 0.2s ease;
    --vibe-transition-fast: all 0.15s ease;
    --vibe-transition-slow: all 0.3s ease;
}
```

### Creating Custom Color Schemes

Example of creating a brand-specific theme:

```css
/* brand-theme.css */
:root {
    /* Brand colors */
    --vibe-primary: hsl(280 100% 50%);        /* Purple */
    --vibe-primary-foreground: hsl(0 0% 100%);

    --vibe-secondary: hsl(280 30% 96%);       /* Light purple */
    --vibe-secondary-foreground: hsl(280 100% 25%);

    --vibe-accent: hsl(45 100% 51%);          /* Gold */
    --vibe-accent-foreground: hsl(0 0% 0%);

    /* Rounded corners */
    --vibe-radius: 1rem;
}
```

### Dark Mode Support

Vibe.UI automatically supports dark mode. Apply the `.dark` class to your root element:

```html
<html class="dark">
```

Or toggle dynamically:

```csharp
// In your component
private async Task ToggleDarkMode()
{
    await JS.InvokeVoidAsync("document.documentElement.classList.toggle", "dark");
}
```

## Performance Considerations

### Bundle Size Analysis

Typical CSS sizes when using Vibe.UI:

| File | Size (uncompressed) | Size (gzipped) |
|------|---------------------|----------------|
| `vibe-base.css` | ~10KB | ~2KB |
| `vibe-utilities.css` | ~15KB | ~3KB |
| `Vibe.UI.styles.css` | ~30KB | ~5KB |
| **Total (Base + Scoped)** | **~40KB** | **~7KB** |
| **Total (All CSS)** | **~55KB** | **~10KB** |

### Optimization Tips

1. **Use minimal setup** - Only include `vibe-base.css` and `Vibe.UI.styles.css` if you don't need utilities
2. **Enable HTTP compression** - CSS compresses extremely well (70-80% reduction)
3. **Use CDN caching** - Static CSS files cache well
4. **Tree-shaking** - Blazor only includes scoped CSS for components you actually use
5. **Custom builds** - If using the CLI approach, only install components you need

### Loading Order

Always load CSS in this order for best performance:

```html
<!-- 1. Base styles (foundation) -->
<link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />

<!-- 2. Optional utilities -->
<link href="_content/Vibe.UI/css/vibe-utilities.css" rel="stylesheet" />

<!-- 3. Component scoped styles -->
<link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />

<!-- 4. Your custom overrides -->
<link href="css/custom-theme.css" rel="stylesheet" />
```

## Troubleshooting

### Components not styled correctly

**Problem:** Components render but don't look right.

**Solution:** Ensure `vibe-base.css` is loaded. This file contains the CSS variables that components depend on.

```html
<link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
```

### Scoped styles not applying

**Problem:** Component-specific styles aren't working.

**Solution:** Make sure `Vibe.UI.styles.css` is included:

```html
<link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
```

Verify the file exists at `_content/Vibe.UI/Vibe.UI.styles.css` in your published output.

### Dark mode not working

**Problem:** Dark theme colors not applying.

**Solution:** Add the `.dark` class to your HTML or body element:

```html
<html class="dark">
```

Or use JavaScript to toggle:

```javascript
document.documentElement.classList.add('dark');
```

### Custom theme colors not applying

**Problem:** CSS variable overrides aren't working.

**Solution:** Ensure your custom CSS is loaded AFTER Vibe.UI styles:

```html
<!-- Vibe.UI styles first -->
<link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />

<!-- Your overrides last -->
<link href="css/custom-theme.css" rel="stylesheet" />
```

### File not found errors

**Problem:** Getting 404 errors for CSS files.

**Solution:**
- For NuGet package users: Files should be at `_content/Vibe.UI/...`
- For CLI users: Files should be in your `wwwroot/css/` directory
- Check that the package reference is correct in your `.csproj`

## Best Practices

1. **Always include base styles** - `vibe-base.css` is required for all components
2. **Always include scoped styles** - `Vibe.UI.styles.css` is required for component-specific styles
3. **Load utilities conditionally** - Only include `vibe-utilities.css` if you use utility classes
4. **Override with custom CSS** - Load your theme customizations after Vibe.UI styles
5. **Use CSS variables** - Customize themes by overriding CSS variables rather than component styles
6. **Enable compression** - Ensure your server compresses CSS files
7. **Leverage browser caching** - Set appropriate cache headers for static CSS files
8. **Test dark mode** - Always test your app in both light and dark themes

## Examples

### Minimal Blazor Server App

```html
<!-- _Host.cshtml -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My App</title>
    <base href="~/" />
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
    <link href="css/site.css" rel="stylesheet" />
</head>
<body>
    <component type="typeof(App)" render-mode="ServerPrerendered" />
</body>
</html>
```

### Minimal Blazor WASM App

```html
<!-- wwwroot/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My App</title>
    <base href="/" />
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
</head>
<body>
    <div id="app">Loading...</div>
    <script src="_framework/blazor.webassembly.js"></script>
</body>
</html>
```

### With Custom Theme

```html
<head>
    <!-- Vibe.UI styles -->
    <link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
    <link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />

    <!-- Custom theme overrides -->
    <link href="css/brand-theme.css" rel="stylesheet" />
</head>
```

```css
/* css/brand-theme.css */
:root {
    --vibe-primary: hsl(220 90% 56%);
    --vibe-primary-foreground: hsl(0 0% 100%);
    --vibe-radius: 0.75rem;
}

.dark {
    --vibe-primary: hsl(220 90% 64%);
}
```

## CLI vs NuGet Package CSS Differences

### NuGet Package (This Document)

CSS files are included in the package and referenced via `_content/Vibe.UI/...`:

```html
<link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
<link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
```

### CLI Approach

CSS files are copied to your project's `wwwroot` directory and referenced directly:

```html
<link href="css/vibe-base.css" rel="stylesheet" />
<link href="css/vibe-utilities.css" rel="stylesheet" />
```

No scoped styles bundle needed with CLI - styles are integrated directly into your components.

## Additional Resources

- [Vibe.UI Documentation](https://github.com/Dieshen/Vibe.UI)
- [Theming Guide](THEMING.md)
- [Blazor CSS Isolation](https://docs.microsoft.com/en-us/aspnet/core/blazor/components/css-isolation)
- [CSS Variables (MDN)](https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties)

## Summary

**Minimal setup (recommended):**
```html
<link href="_content/Vibe.UI/css/vibe-base.css" rel="stylesheet" />
<link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
```

**Full setup with utilities:**
```html
<link href="_content/Vibe.UI/css/vibe-all.css" rel="stylesheet" />
<link href="_content/Vibe.UI/Vibe.UI.styles.css" rel="stylesheet" />
```

Choose the setup that best fits your needs and follow Blazor best practices for optimal performance.

@page "/components/stepper"
@using Vibe.UI.Components

<PageTitle>Stepper - Vibe.UI</PageTitle>

<ComponentPage ComponentName="Stepper"
               Category="Navigation"
               Description="A step-by-step progress indicator for guiding users through multi-step processes with support for horizontal and vertical layouts."
               RelatedComponents="@relatedComponents">

    <PreviewContent>
        <div class="preview-demo" style="max-width: 800px; margin: 0 auto;">
            <Stepper CurrentStep="previewCurrentStep" Steps="previewSteps" />
        </div>
    </PreviewContent>

    <Examples>
        <div class="example-item">
            <h3>Horizontal Stepper</h3>
            <p>Default horizontal layout for multi-step processes:</p>
            <CodeBlock Code="@HorizontalCode" Language="razor" />

            <div style="margin-top: 1rem;">
                <Stepper CurrentStep="horizontalCurrentStep" Steps="horizontalSteps" />
                <div style="margin-top: 1rem; display: flex; gap: 0.5rem;">
                    <Button OnClick="@(() => horizontalCurrentStep = Math.Max(0, horizontalCurrentStep - 1))"
                            Disabled="@(horizontalCurrentStep == 0)"
                            Variant="ButtonVariant.Outline">
                        Previous
                    </Button>
                    <Button OnClick="@(() => horizontalCurrentStep = Math.Min(horizontalSteps.Count - 1, horizontalCurrentStep + 1))"
                            Disabled="@(horizontalCurrentStep == horizontalSteps.Count - 1)">
                        Next
                    </Button>
                </div>
            </div>
        </div>

        <div class="example-item">
            <h3>Vertical Stepper</h3>
            <p>Vertical layout for more detailed step descriptions:</p>
            <CodeBlock Code="@VerticalCode" Language="razor" />

            <div style="margin-top: 1rem;">
                <Stepper CurrentStep="verticalCurrentStep"
                         Steps="verticalSteps"
                         Orientation="Stepper.StepperOrientation.Vertical" />
            </div>
        </div>

        <div class="example-item">
            <h3>Clickable Steps</h3>
            <p>Allow users to navigate by clicking steps directly:</p>
            <CodeBlock Code="@ClickableCode" Language="razor" />

            <div style="margin-top: 1rem;">
                <Stepper @bind-CurrentStep="clickableCurrentStep"
                         Steps="clickableSteps"
                         Clickable="true" />
            </div>
        </div>
    </Examples>

    <Props>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>CurrentStep</code></td>
                    <td>int</td>
                    <td>0</td>
                    <td>Currently active step (0-indexed)</td>
                </tr>
                <tr>
                    <td><code>Steps</code></td>
                    <td>List&lt;StepItem&gt;?</td>
                    <td>null</td>
                    <td>List of step items</td>
                </tr>
                <tr>
                    <td><code>Orientation</code></td>
                    <td>StepperOrientation</td>
                    <td>Horizontal</td>
                    <td>Stepper orientation (Horizontal or Vertical)</td>
                </tr>
                <tr>
                    <td><code>Clickable</code></td>
                    <td>bool</td>
                    <td>false</td>
                    <td>Whether steps can be clicked to navigate</td>
                </tr>
            </tbody>
        </table>
    </Props>

    <AccessibilityNotes>
        <ul>
            <li>Uses semantic <code>&lt;nav&gt;</code> element with aria-label</li>
            <li>Steps use <code>&lt;button&gt;</code> elements for keyboard accessibility</li>
            <li>Clear visual indicators for different step states</li>
        </ul>
    </AccessibilityNotes>
</ComponentPage>

@code {
    private List<string> relatedComponents = new() { "Breadcrumb", "Tabs", "Progress" };

    private int previewCurrentStep = 1;
    private List<Stepper.StepItem> previewSteps = new()
    {
        new() { Label = "Account" },
        new() { Label = "Profile" },
        new() { Label = "Preferences" }
    };

    private int horizontalCurrentStep = 0;
    private List<Stepper.StepItem> horizontalSteps = new()
    {
        new() { Label = "Step 1", Description = "First step" },
        new() { Label = "Step 2", Description = "Second step" },
        new() { Label = "Step 3", Description = "Third step" },
        new() { Label = "Step 4", Description = "Final step" }
    };

    private int verticalCurrentStep = 1;
    private List<Stepper.StepItem> verticalSteps = new()
    {
        new() { Label = "Create Account", Description = "Enter your email and password" },
        new() { Label = "Verify Email", Description = "Check your inbox for verification link" },
        new() { Label = "Complete Profile", Description = "Add your personal information" }
    };

    private int clickableCurrentStep = 0;
    private List<Stepper.StepItem> clickableSteps = new()
    {
        new() { Label = "Select Plan" },
        new() { Label = "Payment" },
        new() { Label = "Confirmation" }
    };

    private string HorizontalCode => @"<Stepper CurrentStep=""currentStep"" Steps=""steps"" />";
    private string VerticalCode => @"<Stepper CurrentStep=""currentStep"" Steps=""steps"" Orientation=""Stepper.StepperOrientation.Vertical"" />";
    private string ClickableCode => @"<Stepper @bind-CurrentStep=""currentStep"" Steps=""steps"" Clickable=""true"" />";
}

@*
    GradientText - Animated gradient text component
    Creates beautiful gradient text like Vercel/shadcn hero sections
*@

<span class="@GradientClasses" style="@GradientStyle">@ChildContent</span>

@code {
    /// <summary>
    /// The text content to display with gradient.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Whether to animate the gradient.
    /// </summary>
    [Parameter]
    public bool Animated { get; set; } = false;

    /// <summary>
    /// The starting color of the gradient.
    /// </summary>
    [Parameter]
    public string FromColor { get; set; } = "#065465"; // brand-teal

    /// <summary>
    /// The ending color of the gradient.
    /// </summary>
    [Parameter]
    public string ToColor { get; set; } = "#AA98A9"; // brand-lilac

    /// <summary>
    /// Gradient direction in degrees (default: 135 for diagonal).
    /// </summary>
    [Parameter]
    public int Direction { get; set; } = 135;

    /// <summary>
    /// Additional CSS classes to apply.
    /// </summary>
    [Parameter]
    public string? Class { get; set; }

    private string GradientClasses
    {
        get
        {
            var baseClasses = "vibe-bg-clip-text vibe-text-transparent";
            var animationClass = Animated ? "vibe-text-gradient-animated" : "";
            return $"{baseClasses} {animationClass} {Class}".Trim();
        }
    }

    private string GradientStyle
    {
        get
        {
            if (Animated)
            {
                // For animated, use the CSS class which has the animation
                return $"background-image: linear-gradient({Direction}deg, {FromColor} 0%, {ToColor} 50%, {FromColor} 100%); background-size: 200% 100%;";
            }
            return $"background-image: linear-gradient({Direction}deg, {FromColor}, {ToColor});";
        }
    }
}

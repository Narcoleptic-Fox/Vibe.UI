@namespace Vibe.UI.Components
@inherits Base.VibeComponent

<div class="@CombinedClass" style="padding-bottom: @AspectRatioPadding;">
    <div class="aspect-ratio-content">
        @ChildContent
    </div>
</div>

@code {
    /// <summary>
    /// Gets or sets the content of the aspect ratio container.
    /// </summary>
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    /// <summary>
    /// Gets or sets the ratio, expressed as width/height. Default is 16/9.
    /// </summary>
    [Parameter]
    public double Ratio { get; set; } = 16.0 / 9.0;

    /// <summary>
    /// Gets the component CSS class name.
    /// </summary>
    protected override string ComponentClass => "vibe-aspect-ratio";

    /// <summary>
    /// Calculates the padding bottom percentage based on the aspect ratio.
    /// </summary>
    private string AspectRatioPadding => $"{(100 / Ratio):0.##}%";
}